<app-title-bar [title]="'Clients'"></app-title-bar>

<div style="display: flex; width: 100%;">
  <div style="width: 33%;">
    <p-table
      [columns]="columns"
      selectionMode="single"
      [(selection)]="selectedClient"
      [dataKey]="'cn'"
      [value]="clients"
      [paginator]="true"
      [rows]="10">
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let col of columns">{{ col.header }}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-client>
        <tr [pSelectableRow]="client">
          <td *ngFor="let col of columns">{{ client[col.field] }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div style="width: 67%;">
    <p-tabs value="0" *ngIf="selectedClient">
      <p-tablist>
        <p-tab value="0">
          Client Rules
        </p-tab>
        <p-tab value="1">
          Client Status
        </p-tab>
        <p-tab value="2">
          Client Commands
        </p-tab>
      </p-tablist>
      <p-tabpanels>
        <p-tabpanel value="0">
            <app-client-rules  [clientCn]="selectedClient.cn"></app-client-rules>
        </p-tabpanel>
        <p-tabpanel value="1">
            <app-client-status [clientCn]="selectedClient.cn"></app-client-status>
        </p-tabpanel>
        <p-tabpanel value="2">

        </p-tabpanel>
      </p-tabpanels>
    </p-tabs>
  </div>
</div>
